<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>Understanding the Dependency Inversion Principle with Real-World Examples</title><meta name="description" content="Sharing knowledge about software creation"><meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no,initial-scale=1"><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="





Understanding the Dependency Inversion Principle with Real-World ExamplesHello, fellow software designers! Today, we’re exploring the Dependency Inversion Principle (DIP), one of the foundational principles in the SOLID design principles. The DIP ensures that high-level modules are not tightly coupled to low-level modules, promoting flexibility and r.."><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="DoHungThinhTin" type="application/atom+xml"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">dohungthinhtin's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Understanding the Dependency Inversion Principle with Real-Worl..</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Understanding-the-Dependency-Inversion-Principle-with-Real-World-Examples"><span class="toc-text">Understanding the Dependency Inversion Principle with Real-World Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#What-is-the-Dependency-Inversion-Principle"><span class="toc-text">What is the Dependency Inversion Principle?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Real-World-Analogy-Construction-Project-Management"><span class="toc-text">Real-World Analogy: Construction Project Management</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Violation-of-DIP"><span class="toc-text">Violation of DIP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Correct-Example-Following-DIP"><span class="toc-text">Correct Example Following DIP</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Translating-DIP-into-Code"><span class="toc-text">Translating DIP into Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Explanation"><span class="toc-text">Explanation</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Benefits-of-Following-DIP"><span class="toc-text">Benefits of Following DIP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trade-Offs-in-Applying-DIP"><span class="toc-text">Trade-Offs in Applying DIP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Trade-Offs-of-Not-Following-DIP"><span class="toc-text">Trade-Offs of Not Following DIP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Trade-Offs-of-Too-Rigid-Adherence-to-DIP"><span class="toc-text">Trade-Offs of Too Rigid Adherence to DIP</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Finding-the-Right-Balance"><span class="toc-text">Finding the Right Balance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/Software-Design"><i class="tag post-item-tag">Software-Design</i></a><a href="/tags/Software-Development"><i class="tag post-item-tag">Software-Development</i></a><a href="/tags/SOLID-Principles"><i class="tag post-item-tag">SOLID-Principles</i></a><a href="/tags/Dependency-Inversion-Principle"><i class="tag post-item-tag">Dependency-Inversion-Principle</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Understanding the Dependency Inversion Principle with Real-World Examples</h1><time class="has-text-grey" datetime="2024-01-10T05:00:00.000Z">2024-01-10</time><article class="mt-2 post-content"><center><img src="/2024/01/10/dip_in_rails_detailed/dependency_inversion_principle.png" title="dependency_inversion_principle"></center><br><h2 id="Understanding-the-Dependency-Inversion-Principle-with-Real-World-Examples"><a href="#Understanding-the-Dependency-Inversion-Principle-with-Real-World-Examples" class="headerlink" title="Understanding the Dependency Inversion Principle with Real-World Examples"></a>Understanding the Dependency Inversion Principle with Real-World Examples</h2><p>Hello, fellow software designers! Today, we’re exploring the <strong>Dependency Inversion Principle (DIP)</strong>, one of the foundational principles in the SOLID design principles. The DIP ensures that high-level modules are not tightly coupled to low-level modules, promoting flexibility and reducing the risk of changes rippling through your codebase. Let’s look at this principle through a real-world analogy and then translate it into a practical software example.</p><h3 id="What-is-the-Dependency-Inversion-Principle"><a href="#What-is-the-Dependency-Inversion-Principle" class="headerlink" title="What is the Dependency Inversion Principle?"></a>What is the Dependency Inversion Principle?</h3><p>The <strong>Dependency Inversion Principle (DIP)</strong> states that:</p><ol><li><strong>High-level modules should not depend on low-level modules. Both should depend on abstractions.</strong></li><li><strong>Abstractions should not depend on details. Details should depend on abstractions.</strong></li></ol><p>In simpler terms, DIP encourages designing software so that high-level modules (business logic) do not depend directly on low-level modules (utility classes or APIs). Instead, both should rely on abstractions like interfaces or abstract classes, allowing the low-level details to change without affecting the high-level logic.</p><h3 id="Real-World-Analogy-Construction-Project-Management"><a href="#Real-World-Analogy-Construction-Project-Management" class="headerlink" title="Real-World Analogy: Construction Project Management"></a>Real-World Analogy: Construction Project Management</h3><p>Consider a <strong>construction project</strong> managed by a <strong>Project Manager</strong>. The manager oversees various tasks but does not directly control how each worker performs their job:</p><ul><li><strong>Project Manager</strong>: Sets goals and coordinates the work.</li><li><strong>Electrician</strong>: Takes care of electrical installations.</li><li><strong>Plumber</strong>: Handles plumbing tasks.</li><li><strong>Carpenter</strong>: Manages woodwork and fittings.</li></ul><h4 id="Violation-of-DIP"><a href="#Violation-of-DIP" class="headerlink" title="Violation of DIP"></a>Violation of DIP</h4><p>Imagine if the Project Manager had to directly manage each worker’s detailed tasks:</p><pre><code class="plaintext">ProjectManager:
  - manageElectricalWork()
  - managePlumbingWork()
  - manageCarpentryWork()
</code></pre><p>In this setup:</p><ol><li><strong>Tight Coupling</strong>: The Project Manager is tightly coupled with the specific details of electrical, plumbing, and carpentry work.</li><li><strong>Difficult to Change</strong>: If a new type of work is introduced (e.g., painting), the Project Manager must be modified to manage it.</li><li><strong>Low Flexibility</strong>: Changes in how a specific task is performed (e.g., a new method for electrical installations) require changes in the Project Manager.</li></ol><h4 id="Correct-Example-Following-DIP"><a href="#Correct-Example-Following-DIP" class="headerlink" title="Correct Example Following DIP"></a>Correct Example Following DIP</h4><p>To adhere to the Dependency Inversion Principle, we should create an abstraction for the types of work:</p><ol><li><strong>Worker Interface</strong>: An interface defining the general method of <code>perform_work</code>.</li><li><strong>Specific Workers</strong>: Classes for <code>Electrician</code>, <code>Plumber</code>, <code>Carpenter</code>, etc., implementing the <code>Worker</code> interface.</li></ol><p>The <strong>Project Manager</strong> will depend on the <code>Worker</code> interface, not on the specific worker classes.</p><h3 id="Translating-DIP-into-Code"><a href="#Translating-DIP-into-Code" class="headerlink" title="Translating DIP into Code"></a>Translating DIP into Code</h3><p>Here’s how to implement the Dependency Inversion Principle correctly:</p><pre><code class="ruby"># Define the Worker interface
class Worker
  def perform_work
    raise NotImplementedError, &quot;Subclasses must implement the perform_work method&quot;
  end
end

# Specific implementations of workers
class Electrician &lt; Worker
  def perform_work
    &quot;Performing electrical installations...&quot;
  end
end

class Plumber &lt; Worker
  def perform_work
    &quot;Handling plumbing tasks...&quot;
  end
end

class Carpenter &lt; Worker
  def perform_work
    &quot;Managing woodwork and fittings...&quot;
  end
end

# Project Manager depends on the abstraction (Worker interface)
class ProjectManager
  def initialize(worker)
    @worker = worker
  end

  def manage_work
    @worker.perform_work
  end
end

# Example usage
electrician = Electrician.new
manager = ProjectManager.new(electrician)
puts manager.manage_work  # Output: &quot;Performing electrical installations...&quot;
</code></pre><h4 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h4><ul><li><strong>Worker Interface</strong>: Defines a contract (<code>perform_work</code>) that all worker classes must fulfill.</li><li><strong>Electrician, Plumber, Carpenter</strong>: Concrete implementations of the <code>Worker</code> interface.</li><li><strong>ProjectManager</strong>: Depends on the <code>Worker</code> interface rather than concrete classes, allowing any worker to be managed without changing the manager’s code.</li></ul><h3 id="Benefits-of-Following-DIP"><a href="#Benefits-of-Following-DIP" class="headerlink" title="Benefits of Following DIP"></a>Benefits of Following DIP</h3><ol><li><strong>Flexibility</strong>: The high-level module (Project Manager) can work with any type of worker without needing modifications.</li><li><strong>Maintainability</strong>: Changes to low-level modules (workers) do not affect high-level modules.</li><li><strong>Testability</strong>: Makes it easier to substitute mock objects for testing purposes, as dependencies are on abstractions.</li></ol><h3 id="Trade-Offs-in-Applying-DIP"><a href="#Trade-Offs-in-Applying-DIP" class="headerlink" title="Trade-Offs in Applying DIP"></a>Trade-Offs in Applying DIP</h3><p>When applying the Dependency Inversion Principle, there are trade-offs to consider:</p><h4 id="Trade-Offs-of-Not-Following-DIP"><a href="#Trade-Offs-of-Not-Following-DIP" class="headerlink" title="Trade-Offs of Not Following DIP"></a>Trade-Offs of Not Following DIP</h4><ol><li><strong>Tight Coupling</strong>: High-level modules become tightly coupled to low-level modules, making changes difficult and error-prone.</li><li><strong>Reduced Flexibility</strong>: Harder to adapt the system to new requirements or technologies.</li><li><strong>Low Reusability</strong>: Difficult to reuse components in different contexts since they depend on specific implementations.</li></ol><h4 id="Trade-Offs-of-Too-Rigid-Adherence-to-DIP"><a href="#Trade-Offs-of-Too-Rigid-Adherence-to-DIP" class="headerlink" title="Trade-Offs of Too Rigid Adherence to DIP"></a>Trade-Offs of Too Rigid Adherence to DIP</h4><ol><li><p><strong>Over-Engineering</strong>: Introducing too many interfaces or abstractions can lead to overly complex code.</p><ul><li><strong>Example</strong>: If you create an interface for every small detail, you might end up with too many unnecessary abstractions that complicate the design.</li></ul></li><li><p><strong>Performance Overhead</strong>: Excessive use of interfaces can introduce a slight performance cost due to the overhead of additional method calls or indirections.</p></li><li><p><strong>Increased Complexity</strong>: Sometimes, too many layers of abstraction can make the system harder to understand and navigate.</p></li></ol><h3 id="Finding-the-Right-Balance"><a href="#Finding-the-Right-Balance" class="headerlink" title="Finding the Right Balance"></a>Finding the Right Balance</h3><ol><li><strong>Use Abstractions Judiciously</strong>: Apply DIP where it provides clear benefits, like flexibility, testability, and maintainability.</li><li><strong>Avoid Over-Abstraction</strong>: Do not create interfaces for every small detail. Focus on the key areas where flexibility and decoupling are most needed.</li><li><strong>Keep the Domain in Mind</strong>: Understand the domain requirements to identify the right level of abstraction.</li></ol><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>The <strong>Dependency Inversion Principle (DIP)</strong> helps create software that is more flexible, testable, and maintainable by decoupling high-level modules from low-level modules. By depending on abstractions rather than concrete implementations, you ensure that your code remains adaptable to future changes and requirements.</p><p>Whether managing a construction project or developing a complex software system, adhering to DIP will help you build robust, scalable, and maintainable solutions.</p><p>Stay tuned for more insights into software design principles and patterns!</p><p><em>Thôi Lo Code Đi Kẻo Sếp nạt!!</em></p><hr></article><section class="jump-container is-flex is-justify-content-space-between my-6"><a class="button is-default" href="/2024/01/11/overview_of_gof_design_patterns/" title="Overview of Design Patterns from GOF - The Foundations of Modern Software Design"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: Overview of Design Patterns from GOF - The Foundations of Modern Software Design</span></a><a class="button is-default" href="/2024/01/09/isp_in_rails_detailed/" title="Understanding the Interface Segregation Principle with Real-World Examples"><span class="has-text-weight-semibold">Next: Understanding the Interface Segregation Principle with Real-World Examples</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Haojen/Claudia-theme-blog" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/dohungthinhSTS"><i class="iconfont icon-github"></i></a><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com/thinhdohung/"><i class="iconfont icon-ins"></i></a><a title="linkedin" target="_blank" rel="noopener nofollow" href="//www.linkedin.com/in/thinh-hung-a74943132/"><i class="iconfont icon-linkedin"></i></a><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com/thinh.dohung/"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> dohungthinhtin 2024</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"></p></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>