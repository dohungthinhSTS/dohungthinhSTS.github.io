<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>Create Rails Project By Docker</title><meta name="description" content="The only limit is the one you set for yourself."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="






Problems?What is your typical approach for creating a new Rails project?
When I first started learning Rails, I would install a new version of Ruby, followed by Rails, and then create a new project. However, this approach became tedious due to the need to manage Ruby dependencies for each project, dealing with version mismatches, and encountering va.."><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">dohungthinhtin's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Create Rails Project By Docker</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Problems"><span class="toc-text">Problems?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Steps"><span class="toc-text">Steps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/rails"><i class="tag post-item-tag">rails</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Create Rails Project By Docker</h1><time class="has-text-grey" datetime="2023-05-10T02:53:12.000Z">2023-05-10</time><article class="mt-2 post-content"><center>
<img src="/2023/05/10/create-rails-by-docker/docker_rails.png" class="" title="docker_rails">
</center>

<br>


<h2 id="Problems"><a href="#Problems" class="headerlink" title="Problems?"></a>Problems?</h2><p>What is your typical approach for creating a new Rails project?</p>
<p>When I first started learning Rails, I would install a new version of Ruby, followed by Rails, and then create a new project. However, this approach became tedious due to the need to manage Ruby dependencies for each project, dealing with version mismatches, and encountering various other issues.</p>
<p>As such, I sought out a way to streamline the process of creating new Rails projects. Docker has proven to be a reliable solution for this, enabling me to work efficiently and avoid many of the aforementioned challenges.</p>
<h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><p>Before beginning, ensure that you have Docker installed on your computer. Next, follow these steps to create a new folder for your project:</p>
<pre><code class="bash">  $ mkdir my-new-rails-app
  $ cd my-new-rails-app
</code></pre>
<p>Once inside the new folder, create a <code>Dockerfile</code> with a minimal setup to support the desired Ruby version. You can find the image name corresponding to your Ruby version on Docker Hub. For example, if you’re using Ruby version 3.2.2, your Dockerfile should look like this:</p>
<pre><code class="dockerfile">FROM ruby:3.2.2

WORKDIR /usr/src/app
</code></pre>
<p>The <code>WORKDIR</code> directive specifies the folder within the container that will host your code and will serve as the default location when accessing the container shell.</p>
<p>Next, create a <code>docker-compose.yml</code> file with the following content:</p>
<pre><code class="docker-compose.yml">services:
  web:
    build: .
    ports:
      - &quot;3001:3000&quot;
    volumes:
      - .:/usr/src/app
</code></pre>
<p>The <code>3001</code> port is used to access the server from the browser, while <code>3000</code> is the port inside the container.<br>The volume is essential because it allows the template files generated by the Rails application in the container to persist in the host filesystem.<br>Other information can be ignored at this stage</p>
<p>Now we can go ahead and access the terminal of the container while exposing the service ports so we can access the Rails application later on via localhost:3001:</p>
<pre><code class="bash">docker-compose run --service-ports web bash
</code></pre>
<p>After running the above commands, you can install the Rails application inside the container using:</p>
<pre><code class="bash">gem install rails
rails new .
</code></pre>
<p>Once you run these commands, take a look inside the <code>my-new-rails-app</code> folder to see the entire Rails source.</p>
<p>Now you can have your Rails source without installing anything on your host machine.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Once you have the Rails source project, you can edit the Dockerfile and add more services like a database, etc. to complete the Rails environment setup.</p>
<p>This approach allows for easy creation of new Rails projects without worrying about rvm, rbenv or dependency overlap. I hope you found this article informative. Goodbye!</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2024/07/04/docker-compose/" title="Understanding Docker-Compose Configuration"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: Understanding Docker-Compose Configuration</span></a><a class="button is-default" href="/2023/05/02/basic-docker/" title="What is docker"><span class="has-text-weight-semibold">Next: What is docker</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Haojen/Claudia-theme-blog" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/dohungthinhSTS"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com/thinhdohung/"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><a title="linkedin" target="_blank" rel="noopener nofollow" href="//www.linkedin.com/in/thinh-hung-a74943132/"><i class="iconfont icon-linkedin"></i></a><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com/thinh.dohung/"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> dohungthinhtin 2024</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"></p></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>